(define (repeated_add [count : i64] [x : i64]) : i64
  (block (start)
    (set zero (const i64 0))
    (set res (const i64 0))
    (set f (ucmp i64 gt count zero))
    (cond_jump f (body) (done))
  )
  (block (body)
    (set one (const i64 1))
    (set new_count (sub i64 count one))
    (set res (call i64 (repeated_add new_count x)))
    (set res (add i64 res x))
    (jump (done))
  )
  (block (done)
    (ret res)
  )
)

(define (entry) : void
  (block (start)
    (set count (const i64 10))
    (set x (const i64 20))
    (set res (call i64 (repeated_add count x)))
    (call void (print_u64 res))
    (set ex (const i64 200))
    (call void (assert_eq_u64 res ex))
    (ret)
  )
)
